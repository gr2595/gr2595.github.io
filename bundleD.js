(function (d3,loadAndProcessData) {
  'use strict';

  const svg = d3.select('svg');

  var w = 760;
  var h = 600;

  const projection = d3.geoMercator()
  								   .center([ -120, 37 ])
  								   .translate([ w/2, h/2 ])
  								   .scale([ w*3.3 ]);

  const pathGenerator = d3.geoPath().projection(projection);

  const g = svg.append('g');

  svg.call(d3.zoom().on('zoom', () => {
    g.attr('transform', d3.event.transform);
  }));

  const colorScale = scaleOrdinal(schemeCategory10);

  loadAndProcessData.loadAndProcessData().then(countries => {
    
    colorScale
    	.domain(zipcodes.features.map(colorValue))
    	.domain(colorScale.domain().sort());
    
    g.selectAll('path')
      	.data(zipcodes.features)
        .enter().append('path')
    			.attr('class', 'zipcode')
        	.attr('d', pathGenerator)
        	.attr('fill', 'red')
    		.append('title')
    			.text(d => d.properties.zipCode);
    
    
    

  });

  //csv('strokeData.csv')
  	//.then(data => console.log(data));


  //json('https://raw.githubusercontent.com/OpenDataDE/State-zip-code-GeoJSON/master/ca_california_zip_codes_geo.min.json')
  	//.then(data => {

}(d3,loadAndProcessData));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNlbGVjdCwganNvbiwgZ2VvUGF0aCwgZ2VvTWVyY2F0b3IsIGNzdiwgem9vbSwgZXZlbnQgIH0gZnJvbSAnZDMnO1xuXG5pbXBvcnQgeyBsb2FkQW5kUHJvY2Vzc0RhdGEgfSBmcm9tICdsb2FkQW5kUHJvY2Vzc0RhdGEnO1xuXG5jb25zdCBzdmcgPSBzZWxlY3QoJ3N2ZycpO1xuXG52YXIgdyA9IDc2MDtcbnZhciBoID0gNjAwO1xuXG5jb25zdCBwcm9qZWN0aW9uID0gZ2VvTWVyY2F0b3IoKVxuXHRcdFx0XHRcdFx0XHRcdCAgIC5jZW50ZXIoWyAtMTIwLCAzNyBdKVxuXHRcdFx0XHRcdFx0XHRcdCAgIC50cmFuc2xhdGUoWyB3LzIsIGgvMiBdKVxuXHRcdFx0XHRcdFx0XHRcdCAgIC5zY2FsZShbIHcqMy4zIF0pO1xuXG5jb25zdCBwYXRoR2VuZXJhdG9yID0gZ2VvUGF0aCgpLnByb2plY3Rpb24ocHJvamVjdGlvbik7XG5cbmNvbnN0IGcgPSBzdmcuYXBwZW5kKCdnJyk7XG5cbnN2Zy5jYWxsKHpvb20oKS5vbignem9vbScsICgpID0+IHtcbiAgZy5hdHRyKCd0cmFuc2Zvcm0nLCBldmVudC50cmFuc2Zvcm0pO1xufSkpO1xuXG5jb25zdCBjb2xvclNjYWxlID0gc2NhbGVPcmRpbmFsKHNjaGVtZUNhdGVnb3J5MTApXG5cbmxvYWRBbmRQcm9jZXNzRGF0YSgpLnRoZW4oY291bnRyaWVzID0+IHtcbiAgXG4gIGNvbG9yU2NhbGVcbiAgXHQuZG9tYWluKHppcGNvZGVzLmZlYXR1cmVzLm1hcChjb2xvclZhbHVlKSlcbiAgXHQuZG9tYWluKGNvbG9yU2NhbGUuZG9tYWluKCkuc29ydCgpKTtcbiAgXG4gIGcuc2VsZWN0QWxsKCdwYXRoJylcbiAgICBcdC5kYXRhKHppcGNvZGVzLmZlYXR1cmVzKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKCdwYXRoJylcbiAgXHRcdFx0LmF0dHIoJ2NsYXNzJywgJ3ppcGNvZGUnKVxuICAgICAgXHQuYXR0cignZCcsIHBhdGhHZW5lcmF0b3IpXG4gICAgICBcdC5hdHRyKCdmaWxsJywgJ3JlZCcpXG4gIFx0XHQuYXBwZW5kKCd0aXRsZScpXG4gIFx0XHRcdC50ZXh0KGQgPT4gZC5wcm9wZXJ0aWVzLnppcENvZGUpO1xuICBcbiAgXG4gIFxuXG59KTtcblxuLy9jc3YoJ3N0cm9rZURhdGEuY3N2Jylcblx0Ly8udGhlbihkYXRhID0+IGNvbnNvbGUubG9nKGRhdGEpKTtcblxuXG4vL2pzb24oJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9PcGVuRGF0YURFL1N0YXRlLXppcC1jb2RlLUdlb0pTT04vbWFzdGVyL2NhX2NhbGlmb3JuaWFfemlwX2NvZGVzX2dlby5taW4uanNvbicpXG5cdC8vLnRoZW4oZGF0YSA9PiB7XG5cbiJdLCJuYW1lcyI6WyJzZWxlY3QiLCJnZW9NZXJjYXRvciIsImdlb1BhdGgiLCJ6b29tIiwiZXZlbnQiLCJsb2FkQW5kUHJvY2Vzc0RhdGEiXSwibWFwcGluZ3MiOiI7OztFQUlBLE1BQU0sR0FBRyxHQUFHQSxTQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7O0VBRTFCLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQztFQUNaLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQzs7RUFFWixNQUFNLFVBQVUsR0FBR0MsY0FBVyxFQUFFO2NBQ3BCLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDO2NBQ3BCLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2NBQ3ZCLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDOztFQUU3QixNQUFNLGFBQWEsR0FBR0MsVUFBTyxFQUFFLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDOztFQUV2RCxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztFQUUxQixHQUFHLENBQUMsSUFBSSxDQUFDQyxPQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU07SUFDL0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUVDLFFBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztHQUN0QyxDQUFDLENBQUMsQ0FBQzs7RUFFSixNQUFNLFVBQVUsR0FBRyxZQUFZLENBQUMsZ0JBQWdCLEVBQUM7O0FBRWpEQyx1Q0FBa0IsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUk7O0lBRXJDLFVBQVU7TUFDUixNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7TUFDekMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDOztJQUVyQyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztRQUNmLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO1NBQ3RCLEtBQUssRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDdkIsSUFBSSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUM7VUFDdEIsSUFBSSxDQUFDLEdBQUcsRUFBRSxhQUFhLENBQUM7VUFDeEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUM7T0FDdEIsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUNkLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQzs7Ozs7R0FLckMsQ0FBQyxDQUFDOzs7Ozs7Ozs7OzsifQ==